
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the centrally provided Research Computing HPC services at UCL.">
      
      
        <meta name="author" content="UCL RCAS Team">
      
      
        <link rel="canonical" href="https://www.rc.ucl.ac.uk/docs/Software_Guides/ANSYS/">
      
      
        <link rel="prev" href="../../Paid-For_Resources/Purchasing_in_Myriad/">
      
      
        <link rel="next" href="../Matlab/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>ANSYS - UCL Research Computing Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/tweaks.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ansys" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="UCL Research Computing Documentation" class="md-header__button md-logo" aria-label="UCL Research Computing Documentation" data-md-component="logo">
      
  <img src="../../img/portico.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UCL Research Computing Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ANSYS
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/UCL-ARC/mkdocs-rc-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    UCL-ARC/mkdocs-rc-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="UCL Research Computing Documentation" class="md-nav__button md-logo" aria-label="UCL Research Computing Documentation" data-md-component="logo">
      
  <img src="../../img/portico.svg" alt="logo">

    </a>
    UCL Research Computing Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/UCL-ARC/mkdocs-rc-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    UCL-ARC/mkdocs-rc-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Research Computing Services
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Account_Services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Services
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Additional_Resource_Requests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Resource Requests
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Contact_Us/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact and Support
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Data_Management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Example_Jobscripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example Jobscripts
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Experienced_Users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start Guide for Experienced HPC Users
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Interactive_Jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interactive Job Sessions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Job_Results/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Where do my results go?
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../New_Users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guide for New Users
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Planned_Outages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planned Outages
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Remote_Access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote Access
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Status_page/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Status of machines
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Terms_and_Conditions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terms and Conditions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UCL_Service_For_Me/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UCL Service For Me
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How To
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" >
        
          
          <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Background
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_17">
            <span class="md-nav__icon md-icon"></span>
            Background
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Background/Cluster_Computing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster Computing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Background/Data_Storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Background/Parallel_Filesystems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parallel Filesystems
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_18" >
        
          
          <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Clusters
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18">
            <span class="md-nav__icon md-icon"></span>
            Clusters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Clusters/Myriad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Myriad
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Clusters/Kathleen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kathleen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Clusters/Michael/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MMM Michael
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Clusters/Young/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MMM Hub Young
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Clusters/Acknowledging_RC_Systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acknowledging the Use of RC Systems
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_19" >
        
          
          <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installed Software Lists
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_19">
            <span class="md-nav__icon md-icon"></span>
            Installed Software Lists
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installed_Software_Lists/module-packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General Software Lists
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installed_Software_Lists/python-packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Packages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installed_Software_Lists/r-packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R Packages
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20" >
        
          
          <label class="md-nav__link" for="__nav_20" id="__nav_20_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Other Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_20">
            <span class="md-nav__icon md-icon"></span>
            Other Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Other_Services/Aristotle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aristotle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Other_Services/JupyterHub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JupyterHub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Other_Services/RStudio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RStudio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Other_Services/UCL_UK_e-Science_Certificates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UCL UK e-Science Certificates
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_21" >
        
          
          <label class="md-nav__link" for="__nav_21" id="__nav_21_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Paid-For Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_21">
            <span class="md-nav__icon md-icon"></span>
            Paid-For Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paid-For_Resources/How_to_Use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Use
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paid-For_Resources/Purchasing_in_Myriad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Purchasing in Myriad
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_22" checked>
        
          
          <label class="md-nav__link" for="__nav_22" id="__nav_22_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_22_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_22">
            <span class="md-nav__icon md-icon"></span>
            Software Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    ANSYS
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    ANSYS
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ansys-supplied-mpi-used-as-default-does-not-work" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS Supplied MPI used as default does not work
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansyscfx" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS/CFX
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ANSYS/CFX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-single-node-multi-threaded-ansyscfx-jobscript" class="md-nav__link">
    <span class="md-ellipsis">
      Example single node multi-threaded ANSYS/CFX jobscript
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-multi-node-mpi-ansyscfx-jobscript" class="md-nav__link">
    <span class="md-ellipsis">
      Example multi-node MPI ANSYS/CFX jobscript
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example multi-node MPI ANSYS/CFX jobscript">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-cfx-with-mpi-on-myriad" class="md-nav__link">
    <span class="md-ellipsis">
      Running CFX with MPI on Myriad
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-cfx" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting CFX
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansysfluent" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS/Fluent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ANSYS/Fluent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-serial-ansys-fluent-jobscript" class="md-nav__link">
    <span class="md-ellipsis">
      Example serial ANSYS Fluent jobscript
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-parallel-mpi-ansysfluent-jobscript" class="md-nav__link">
    <span class="md-ellipsis">
      Example parallel (MPI) ANSYS/Fluent jobscript
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example parallel (MPI) ANSYS/Fluent jobscript">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-ansys-fluent-with-mpi-on-myriad" class="md-nav__link">
    <span class="md-ellipsis">
      Running ANSYS Fluent with MPI on Myriad
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-jobscripts-for-ansys-fluent-2021r2" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to jobscripts for ANSYS Fluent 2021.R2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-fluent" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting Fluent
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansys-mechanical" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS Mechanical
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansys-electromagnetic-suite-ansysem" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS Electromagnetic Suite (AnsysEM)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Matlab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MATLAB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Singularity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Singularity/Apptainer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../R/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Other_Software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Other Software
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AlphaFold3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AlphaFold3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Installing_Software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Software
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../RFAA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RoseTTAFold All-Atom
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_23" >
        
          
          <label class="md-nav__link" for="__nav_23" id="__nav_23_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Walkthroughs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_23_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_23">
            <span class="md-nav__icon md-icon"></span>
            Walkthroughs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Walkthroughs/Giving_Files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Giving Files to Another User
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Walkthroughs/Logging_In/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging In
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Walkthroughs/Machine_Learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine Learning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ansys-supplied-mpi-used-as-default-does-not-work" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS Supplied MPI used as default does not work
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansyscfx" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS/CFX
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ANSYS/CFX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-single-node-multi-threaded-ansyscfx-jobscript" class="md-nav__link">
    <span class="md-ellipsis">
      Example single node multi-threaded ANSYS/CFX jobscript
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-multi-node-mpi-ansyscfx-jobscript" class="md-nav__link">
    <span class="md-ellipsis">
      Example multi-node MPI ANSYS/CFX jobscript
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example multi-node MPI ANSYS/CFX jobscript">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-cfx-with-mpi-on-myriad" class="md-nav__link">
    <span class="md-ellipsis">
      Running CFX with MPI on Myriad
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-cfx" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting CFX
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansysfluent" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS/Fluent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ANSYS/Fluent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-serial-ansys-fluent-jobscript" class="md-nav__link">
    <span class="md-ellipsis">
      Example serial ANSYS Fluent jobscript
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-parallel-mpi-ansysfluent-jobscript" class="md-nav__link">
    <span class="md-ellipsis">
      Example parallel (MPI) ANSYS/Fluent jobscript
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example parallel (MPI) ANSYS/Fluent jobscript">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-ansys-fluent-with-mpi-on-myriad" class="md-nav__link">
    <span class="md-ellipsis">
      Running ANSYS Fluent with MPI on Myriad
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-jobscripts-for-ansys-fluent-2021r2" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to jobscripts for ANSYS Fluent 2021.R2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-fluent" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting Fluent
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansys-mechanical" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS Mechanical
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansys-electromagnetic-suite-ansysem" class="md-nav__link">
    <span class="md-ellipsis">
      ANSYS Electromagnetic Suite (AnsysEM)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="ansys">ANSYS<a class="headerlink" href="#ansys" title="Permanent link">§</a></h1>
<div class="admonition important">
<p class="admonition-title">License checking</p>
<p>Current as of Dec 2021, the <code>-ac app=cfx</code> license check does not work
after ANSYS renamed all products and licenses. Remove this line from
your jobscripts for the time being or jobs will not be able to start.</p>
</div>
<p>ANSYS/CFX and ANSYS/Fluent are commercial fluid dynamics packages.</p>
<p>The most recent version of ANSYS we have installed on the clusters is ANSYS 2023.R1 including ANSYS/CFX, ANSYS/Fluent, ANSYS Mechanical and the ANSYS Electromagnetics Suite (AnsysEM). Some other products included in the ANSYS Campus Agreement are also available including Autodyn.</p>
<p>Older versions of some ANSYS products including ANSYS/CFX and
ANSYS/Fluent are also available but only on Kathleen at the moment - 2021.R2, 2019.R3, 19.1 for example. However ANSYS Inc changed the way they license their software at the beginning of 2021, causing some products from versions before 2020 to have issues getting a valid license from the lciense server.</p>
<p>Before these applications can be run, the user needs to go though a
number of set up steps. These are detailed here.</p>
<p>To see the versions available, type</p>
<div class="codehilite"><pre><span></span><code>module avail ansys
</code></pre></div>

<p>The desired ANSYS module needs to be loaded by issuing a command like:</p>
<div class="codehilite"><pre><span></span><code>module load ansys/2023.r1
</code></pre></div>

<p>This will set up various necessary config directories for you.</p>
<div class="admonition important">
<p class="admonition-title">Module for UCL staff and Students only</p>
<p>these ANSYS modules are for
UCL staff and Students only as they use the UCL ANSYS License
Manager. Users from external Institutions on Young (the MMM Hub
cluster) need to use modules specific to their institution instead.</p>
</div>
<p>The ANSYS applications are intended to be run primarily within batch
jobs however you may run short (less than 5 minutes execution time)
interactive tests on the Login Nodes and longer (up to two hours) on an
interactive session on a compute node using qrsh. Interactive work can be done using the ANSYS
interactive tools provided you have X-windows functionality enabled
though your ssh connection. See our User Guide
for more information about enabling
X-windows functionality and using the qrsh command to start interactive sessions.</p>
<p>UCL's campus-wide license covers 125 instances with 512 HPC licenses (for 
parallel jobs) available for running CFX, Fluent and AnsysEM jobs and in 
order to make sure that jobs only run if there are licenses available, it 
is necessary for users to request ANSYS licenses with their jobs, by adding 
<code>-ac app=cfx</code> to their job submission.</p>
<h2 id="ansys-supplied-mpi-used-as-default-does-not-work">ANSYS Supplied MPI used as default does not work<a class="headerlink" href="#ansys-supplied-mpi-used-as-default-does-not-work" title="Permanent link">§</a></h2>
<p>ANSYS 2023.R1 is supplied with a MPI which is used as the default but
doesn't work on our clusters. In every parallel job script you need to
specify the supplied Intel 2018 MPI alternative. See the example job
scripts below.</p>
<h2 id="ansyscfx">ANSYS/CFX<a class="headerlink" href="#ansyscfx" title="Permanent link">§</a></h2>
<p>CFX handles its own parallelisation, so a number of complex options need to be passed in job scripts to make it run correctly.</p>
<h3 id="example-single-node-multi-threaded-ansyscfx-jobscript">Example single node multi-threaded ANSYS/CFX jobscript<a class="headerlink" href="#example-single-node-multi-threaded-ansyscfx-jobscript" title="Permanent link">§</a></h3>
<p>Here is an example runscript for running <code>cfx5solve</code> multi-threaded on a
given <code>.def</code> file.</p>
<div class="codehilite"><pre><span></span><code>#!/bin/bash -l

# ANSYS 2023.R1: Batch script to run cfx5solve on the StaticMixer.def example 
# file, single node multi-threaded (12 threads),

# Force bash as the executing shell.

#$ -S /bin/bash

# Request 15 munutes of wallclock time (format hours:minutes:seconds).
#$ -l h_rt=0:15:0

# Request 1 gigabyte of RAM per core.
#$ -l mem=1G

# Set the name of the job.
#$ -N StaticMixer_thread_12

# Select 12 threads.
#$ -pe smp 12

# Request ANSYS licences
# Dec 2021: comment out this check as not currently working
###$ -ac app=cfx

# Set the working directory to somewhere in your scratch space. In this
# case the subdirectory cfxtests-2023.R1
#$ -wd /home/&lt;your_UCL_id&gt;/Scratch/cfxtests-2023.R1

# Load the ANSYS module to set up your environment

module load ansys/2023.r1

# Copy the .def file into the working (current) directory

cp /home/&lt;your userid&gt;/cfx_examples/StaticMixer.def .

# Run cfx5solve - Note: -max-elapsed-time needs to be set to the same
# time as defined by 2 above.

cfx5solve -max-elapsed-time &quot;15 [min]&quot; -def StaticMixer.def -par-local -partition $OMP_NUM_THREADS
</code></pre></div>

<p>You will need to change the <code>-wd /home/&lt;your_UCL_id&gt;/Scratch/cfxtests-2023.R1</code> location and may need to change the memory, wallclock time, number of threads and job name directives as well. Replace the .def file with your one and modify the -max-elapsed-time value if needed. The simplest form of qsub command can be used to submit the job eg:</p>
<div class="codehilite"><pre><span></span><code>qsub run-StaticMixer-thr.sh
</code></pre></div>

<p>Output files will be saved in the job's working directory.</p>
<h3 id="example-multi-node-mpi-ansyscfx-jobscript">Example multi-node MPI ANSYS/CFX jobscript<a class="headerlink" href="#example-multi-node-mpi-ansyscfx-jobscript" title="Permanent link">§</a></h3>
<p>Here is an example runscript for running cfx5solve on more than one node
(using MPI) on a given .def file. <strong>Note</strong>: the need to use the supplied
Intel 2018 MPI instead of the default.</p>
<div class="codehilite"><pre><span></span><code>#!/bin/bash -l

# ANSYS 2023.R1: Batch script to run cfx5solve on the StaticMixer.def example 
# file, distributed parallel (80 cores).

# Using ANSYS 2021 licence manager running on UCL central licence server.

# 1. Force bash as the executing shell.
#$ -S /bin/bash

# 2. Request one hour of wallclock time (format hours:minutes:seconds).
#$ -l h_rt=0:60:0

# 3. Request 2 gigabyte of RAM per core.
#$ -l mem=2G

# 4. Set the name of the job.
#$ -N StaticMixer_P_dist_80_NLC

# 5. Select the MPI parallel environment and 80 processors.
#$ -pe mpi 80

# 6. Request ANSYS licences $ not inserted so currently inactive. Job will queue until
# suficient licenses are available when active.
# -ac app=cfx

# 7. Set the working directory to somewhere in your scratch space.  In this
# case the subdirectory cfxtests-2023.R1
#$ -wd /home/&lt;your_UCL_id&gt;/Scratch/cfxtests-2023.R1

# 8. Load the ANSYS module to set up your environment

module load ansys/2023.r1

# 9. Copy the .def file into the working (current) directory

cp /home/&lt;your_UCL_id&gt;/Software/ANSYS/cfx_examples/StaticMixer.def .

# 10. SGE puts the machine file in $TMPDIR/machines. Use this to generate the 
# string CFX_NODES needed by cfx5solve

export CFX_NODES=`cfxnodes $TMPDIR/machines`

# 11. Run cfx5solve - Note: -max-elapsed-time needs to be set to the same
# time as defined by 2 above.

# Run with default MPI.
cfx5solve -max-elapsed-time &quot;60 [min]&quot; -def StaticMixer.def -start-method &quot;Intel MPI 2018 Distributed Parallel&quot; -par-dist $CFX_NODES
</code></pre></div>

<p>Please copy if you wish and edit it to suit your jobs. You will
need to change the <code>-wd /home/&lt;your_UCL_userid&gt;/Scratch/cfxtests-2023.R1</code> location and may need
to change the memory, wallclock time, number of MPI processors
and job name directives as well. Replace the <code>.def</code> file with
your one and modify the <code>-max-elapsed-time</code> value if needed. The
simplest form of qsub command can be used to submit the job eg:</p>
<div class="codehilite"><pre><span></span><code>qsub run-StaticMixer-par.sh
</code></pre></div>

<p>Output files will be saved in the job's working directory.</p>
<h4 id="running-cfx-with-mpi-on-myriad">Running CFX with MPI on Myriad<a class="headerlink" href="#running-cfx-with-mpi-on-myriad" title="Permanent link">§</a></h4>
<p>On Myriad the maximum number of MPI processors you can request is 36.</p>
<h3 id="troubleshooting-cfx">Troubleshooting CFX<a class="headerlink" href="#troubleshooting-cfx" title="Permanent link">§</a></h3>
<p>If you are getting licensing errors when trying to run a parallel job and you have an older version's <code>~/.ansys/v161/licensing/license.preferences.xml</code> file, delete it. It does not work with the newer license server. (This applies to all older versions, not just <code>v161</code>).</p>
<h2 id="ansysfluent">ANSYS/Fluent<a class="headerlink" href="#ansysfluent" title="Permanent link">§</a></h2>
<p>Fluent handles its own parallelisation, so a number of
complex options need to be passed in job scripts to make it run
correctly.</p>
<p>The .in file mentioned in the scripts below is a <a href="https://www.cfd-online.com/Wiki/Fluent_FAQ#Journal_File_and_Text_User_Interface_.28TUI.29_Related">Fluent journal file</a>, giving it the list of commands to carry out in batch mode.</p>
<h3 id="example-serial-ansys-fluent-jobscript">Example serial ANSYS Fluent jobscript<a class="headerlink" href="#example-serial-ansys-fluent-jobscript" title="Permanent link">§</a></h3>
<div class="admonition important">
<p class="admonition-title">Serial ANSYS Fluent not currently working on Myriad</p>
<p>Currently we have not been able to get serial ANSYS Fluent jobs
working on Myriad with ANSYS 2023.R1.</p>
</div>
<p>Here is an example jobscript for running Fluent in serial mode (1
core). <strong>Note</strong>: this is for an older version of ANSYS which is not
currently available on Myriad and Kathleen cannot run serial jobs.</p>
<div class="codehilite"><pre><span></span><code>#!/bin/bash -l

# ANSYS 2021.R2: Batch script to run ANSYS/fluent in serial mode 
# (1 core). 

# Request 2 hours of wallclock time (format hours:minutes:seconds).
#$ -l h_rt=2:0:0

# Request 2 gigabytes of RAM.
#$ -l mem=2G

# Set the name of the job.
#$ -N Fluent_ser1

# Request ANSYS licences
# Dec 2021: comment out this check as not currently working
###$ -ac app=cfx

# Set the working directory to somewhere in your scratch space.  In this
# case the subdirectory fluent-tests-19.1
#$ -wd /home/&lt;your_UCL_userid&gt;/Scratch/fluent-tests-2021.R2

# Load the ANSYS module to set up your environment

module load ansys/2021.r2

# Copy Fluent input files into the working (current) directory

cp &lt;path to your input files&gt;/test-1.cas .
cp &lt;path to your input files&gt;/test-1.in .

# Run fluent in 2D single precision (-g no GUI). For double precision use
# 2ddp. For 3D use 3d or 3ddp. 

fluent 2d -g &lt; test-1.in
</code></pre></div>

<p>Please copy if you wish and edit it to suit your jobs. You will need to
change the <code>-wd /home/&lt;your_UCL_id&gt;/Scratch/fluent-tests-2021.R2</code> 
location and may
need to change the memory, wallclock time, and job name as
well. Replace the <code>.cas</code> and <code>.in</code> files with your ones. The
simplest form of qsub command can be used to submit the job eg:</p>
<div class="codehilite"><pre><span></span><code>qsub run-ANSYS-fluent-ser.sh
</code></pre></div>

<p>Output files will be saved in the job's working directory.</p>
<h3 id="example-parallel-mpi-ansysfluent-jobscript">Example parallel (MPI) ANSYS/Fluent jobscript<a class="headerlink" href="#example-parallel-mpi-ansysfluent-jobscript" title="Permanent link">§</a></h3>
<p>Here is an example runscript for running Fluent in parallel potentially
across more than one node. <strong>Note</strong>: the need to use the supplied
Intel 2018 MPI instead of the default.</p>
<div class="codehilite"><pre><span></span><code>#!/bin/bash -l

# ANSYS 2023.R1: Batch script to run ANSYS/fluent distributed parallel 
# (80 cores). 

# Request 2 hours of wallclock time (format hours:minutes:seconds).
#$ -l h_rt=2:0:0

# Request 2 gigabytes of RAM per core.
#$ -l mem=2G

# Set the name of the job.
#$ -N Fluent_par80

# Select the MPI parallel environment and 80 processors.
#$ -pe mpi 80

# Request 25 Gb TMPDIR space (if on a cluster that supports this)
#$ -l tmpfs=25G

# Request ANSYS licences
# Dec 2021: comment out this check as not currently working
###$ -ac app=cfx

# Set the working directory to somewhere in your scratch space.  In this
# case the subdirectory fluent-tests-2023.R1
#$ -wd /home/&lt;your_UCL_userid&gt;/Scratch/fluent-tests-2023.R1

# Load the ANSYS module to set up your environment

module load ansys/2023.r1

# Copy Fluent input files into the working (current) directory

cp &lt;path to your input files&gt;/test-1.cas .
cp &lt;path to your input files&gt;/test-1.in .

# Run fluent  in 3D single precision (-g no GUI). For double precision use
# 3ddp. For 2D use 2d or 2ddp. 
# Do not change -t, -mpi, and -cnf options.

fluent 3ddp -t$NSLOTS -mpi=intel2018 -cnf=$TMPDIR/machines -g &lt; test-1.in
</code></pre></div>

<p>Please copy if you wish and edit it to suit your jobs. You will
need to change the <code>-wd /home/&lt;your_UCL_id&gt;/Scratch/fluent-tests-2023.R1</code> location and may
need to change the memory, wallclock time, number of MPI processors
and job name as well. Replace the <em>.cas</em> and <em>.in</em>
files with your ones. The simplest form of qsub command can
be used to submit the job eg: </p>
<div class="codehilite"><pre><span></span><code>qsub run-ANSYS-fluent-par-80.sh
</code></pre></div>

<p>Output files will be saved in the job's working directory.</p>
<h4 id="running-ansys-fluent-with-mpi-on-myriad">Running ANSYS Fluent with MPI on Myriad<a class="headerlink" href="#running-ansys-fluent-with-mpi-on-myriad" title="Permanent link">§</a></h4>
<p>On Myriad the maximum number of MPI processors you can request is 36.</p>
<h4 id="changes-to-jobscripts-for-ansys-fluent-2021r2">Changes to jobscripts for ANSYS Fluent 2021.R2<a class="headerlink" href="#changes-to-jobscripts-for-ansys-fluent-2021r2" title="Permanent link">§</a></h4>
<p>The following changes are needed to the example jobscript for the
older ANSYS 2021.R2 version. Load this module file instead:</p>
<div class="codehilite"><pre><span></span><code>module load ansys/2021.r2
</code></pre></div>

<p>and run fluent with this MPI option:</p>
<div class="codehilite"><pre><span></span><code>fluent 3ddp -t$NSLOTS -mpi=intel -cnf=$TMPDIR/machines -g &lt; test-1.in
</code></pre></div>

<h3 id="troubleshooting-fluent">Troubleshooting Fluent<a class="headerlink" href="#troubleshooting-fluent" title="Permanent link">§</a></h3>
<p>If you are getting licensing errors when trying to run a parallel job and you have an older version's <code>~/.ansys/v161/licensing/license.preferences.xml</code> file, delete it. It does not work with the newer license server. (This applies to all older versions, not just <code>v161</code>).</p>
<p>Fluent 14 required <code>-mpi=pcmpi -pinfiniband</code> in the parallel options: if you have older scripts remember to remove this.</p>
<h2 id="ansys-mechanical">ANSYS Mechanical<a class="headerlink" href="#ansys-mechanical" title="Permanent link">§</a></h2>
<p>ANSYS Mechanical handles its own parallelisation, and needs an
additional setting to work on our clusters. It also only appears to
work with Intel MPI. Here is an example jobscript for running in
parallel potentially across more than one node, for example on the
Kathleen cluster. <strong>Note</strong>: the need to use the supplied
Intel 2018 MPI instead of the default.</p>
<div class="codehilite"><pre><span></span><code>#!/bin/bash -l

# ANSYS 2023.R1: Batch script to run ANSYS Mechanical solver
# file, distributed parallel (80 cores).

# Using ANSYS 2021.R2 licence manager running on UCL central licence server.

# Force bash as the executing shell.
#$ -S /bin/bash

# Request one hour of wallclock time (format hours:minutes:seconds).
#$ -l h_rt=1:00:0

# Request 2 gigabyte of RAM per core. (Must be an integer)
#$ -l mem=2G

# Set the name of the job.
#$ -N Mech_P_dist_80

# Select the MPI parallel environment and 80 processors.
#$ -pe mpi 80

# Request ANSYS licences $ inserted so currently active.Job will queue until
# suficient licences are available.
# Dec 2021: comment out this check as not currently working
###$ -ac app=cfx

# Set the working directory to somewhere in your scratch space.  In this
# case the subdirectory ANSYS_Mech
#$ -wd /home/&lt;your_UCL_username&gt;/Scratch/ANSYS_Mech

# Load the ANSYS module to set up your environment
module load ansys/2023.r1

# Copy the .in file into the working (current) directory
cp ~/ANSYS/steady_state_input_file.dat .

# 10. SGE puts the machine file in $TMPDIR/machines. Use this to generate the 
# string CFX_NODES needed by ansys195 which requires : as the separator.

export CFX_NODES=`cfxnodes_cs $TMPDIR/machines`
echo $CFX_NODES

# Need to set KMP_AFFINTY to get round error: OMP: System error #22: Invalid argument

export KMP_AFFINITY=disabled

# Run ansys mechanical

mapdl -mpi intelmpi2018 -dis -b -machines $CFX_NODES -i steady_state_input_file.dat
</code></pre></div>

<p>Please copy if you wish and edit it to suit your jobs. You will
need to change the <code>-wd /home/&lt;your_UCL_id&gt;/Scratch/ANSYS_Mech</code> location and may
need to change the memory, wallclock time, number of MPI processors
and job name as well. Replace the <em>.dat</em> 
file with your one. The simplest form of qsub command can
be used to submit the job eg: </p>
<div class="codehilite"><pre><span></span><code>qsub ansys-mech-2023.R1-ex.sh
</code></pre></div>

<p>Output files will be saved in the job's working directory.</p>
<p>If you have access to Kathleen, this test input and jobscript are available at <code>/home/ccaabaa/Software/ANSYS/steady_state_input_file.dat</code> and <code>/home/ccaabaa/Software/ANSYS/ansys-mech-2023.R1-ex.sh</code></p>
<h2 id="ansys-electromagnetic-suite-ansysem">ANSYS Electromagnetic Suite (AnsysEM)<a class="headerlink" href="#ansys-electromagnetic-suite-ansysem" title="Permanent link">§</a></h2>
<p>The AnsysEM products handle their own parallelisation so a number of complex options need to be passed in job scripts to make it run correctly. Also additional module commands are required.</p>
<p>Here is an example jobscript for running in parallel potentially across more than one node, for example on the Kathleen cluster.</p>
<div class="codehilite"><pre><span></span><code>#!/bin/bash -l

# AnsysEM 2023 R1: Batch script to run one of the Ansys Electromagnetics Products
# example simulations on Kathleen - distributed parallel (80 cores)

# 1. Force bash as the executing shell.
#$ -S /bin/bash

# 2. Request one hour of wallclock time (format hours:minutes:seconds).
#$ -l h_rt=1:00:0

# 3. Request 2 gigabyte of RAM per core.
#$ -l mem=2G

# 4. Set the name of the job.
#$ -N DiffSL_P_dist_80

# 5. Select the MPI parallel environment and 80 processors - two nodes.
#$ -pe mpi 80

# 7. Request ANSYS licences $ inserted so currently active. Job will queue until
# suficient licenses are available. Not currently active.
###$ -ac app=cfx

# 8. Set the working directory to somewhere in your scratch space.  In this
# case the directory the job was submitted from,
#$ -cwd

# 9. Load the ANSYS module to set up your environment

module load ansys/2023.r1
module load xorg-utils/X11R7.7
module load giflib/5.1.1

# 10. Run ansysedt

ansysedt -ng -Distributed -machinelist num=$NSLOTS -batchoptions &#39;HFSS/MPIVendor&#39;=&#39;Intel&#39; -batchoptions &#39;TempDirectory&#39;=&quot;${TMPDIR}&quot; -batchoptions &#39;HFSS/HPCLicenseType&#39;=&#39;pool&#39;  -batchoptions &#39;HFSS-IE/HPCLicenseType&#39;=&#39;pool&#39; -BatchSolve differential_stripline.aedt
</code></pre></div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2014 - 2024 UCL Research Computing Group
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/UCL-ARC" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["instant"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>